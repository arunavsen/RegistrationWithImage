
@{
    ViewBag.Title = "AddNewProduct";
}

<h2>Add New Product</h2>
<div class="container">
    <div class="col-md-6">
        <form id="AddNewProduct"
              enctype="multipart/form-data"
              method="post"
              onsubmit="return AjaxPost(this)">

            <label>Title</label><br />
            <input id="ProductName" name="ProductName"
                   class="form-control" placeholder="Enter product name" />

            <label>Price</label><br />
            <input id="Price" name="Price"
                   class="form-control" placeholder="Enter product price" />

            <label>Upload Image</label><br />
            <input id="ImageUpload" name="ImageUpload"
                   class="form-control" type="file"/>
            <br/>
            <button class="btn btn-success">Add</button>

        </form>
    </div>
</div>

<!---Write code for pass form-data from view to controller
and save it in database-->

<script>
    function  AjaxPost(formData) {
        var ajaxConfig = {
            type: "post",
            url: "/Products/SaveData",
            data: new FormData(formData),
            success: function(result) {
                alert(result);
                window.location.href = "/Products/AddNewProduct";
            }
        }
        if ($(formData).attr('enctype') == "multipart/form-data") {
            ajaxConfig["contentType"] = false;
            ajaxConfig["processData"] = false;
        }
        $.ajax(ajaxConfig);
        return false;
    }
</script>

